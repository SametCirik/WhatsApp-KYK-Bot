<p align="center">
  <a href="./README.md">
    <img src="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/flags/4x3/gb.svg" alt="English" width="40">
  </a>
  &nbsp;&nbsp;|&nbsp;&nbsp;
  <a href="./README_tr.md">
    <img src="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/flags/4x3/tr.svg" alt="Türkçe" width="40">
  </a>
</p>

---

# KYK Food Menu Bot - WhatsApp Automation

This is a robust desktop & server-side application developed using **Java (Swing + Selenium)** to manage weekly food menus for **KYK (Credit and Dormitories Institution)** and automatically distribute them via WhatsApp.

This project features a modern GUI for data entry, a CLI mode for server environments, and smart automation capabilities using **Selenium WebDriver**.

---

## Features

### Core Features
* **Menu Management:** Enter, edit, and save daily menus (Breakfast & Dinner) via a user-friendly Java Swing interface.
* **Smart CSV Integration:** Support for **Drag & Drop** to load menus from `.csv` files instantly.
* **WhatsApp Automation:** Connects to WhatsApp Web, bypasses QR scanning (via session persistence), and sends formatted messages with emojis.
* **Schedule & Timer:** Schedule messages to be sent at a specific date and time, or send them instantly.

### New in v2.0
* **Server Edition (CLI Mode):** A fully functional Command Line Interface (`KykBotTerminal.bat`) for running the bot on headless servers or via terminal.
* **Smart Navigation:** Navigate through menu input fields using **Arrow Keys (Up/Down)** for faster data entry.
* **Robust Media Handling:** Fixed issues with loading application icons and logos from JAR files.
* **Emoji Support:** Improved message formatting with emoji support using System Clipboard integration (bypassing Selenium BMP errors).

---

## Environment & Prerequisites

Before running the project, ensure you have the following installed:

* **Java JDK 21+:** Required to run the application.
* **Google Chrome:** The bot uses the installed Chrome browser for automation.
* **Maven:** Used for dependency management (Selenium, FlatLaf, etc.) and building the project.

---

## Installation & Setup

### 1. Clone the Repository
```bash
git clone [https://github.com/SametCirik/WhatsApp-KYK-Bot.git](https://github.com/SametCirik/WhatsApp-KYK-Bot.git)
cd WhatsApp-KYK-Bot
```

### 2. Install Dependencies (Selenium & Others)

This project uses Maven. You don't need to download JARs manually. Simply run the following command in the project root to download all libraries (Selenium, etc.) defined in `pom.xml`:

```bash
mvn clean install
```

### 3. Build the JAR

To create an executable JAR file with all dependencies included:

```bash
mvn clean package
```

The output file will be located in the `/target` folder.

---

## Usage

### A. GUI Mode (Desktop)

Run the JAR file directly or use the command below. This opens the visual interface where you can enter menus or drag-and-drop your CSV file.

```bash
java -jar target/Whatsapp-KYK-Bot.jar
```

1. **Enter Menu:** Fill in the breakfast and dinner fields (Use Arrow Keys to navigate!).

2. **Save/Load:** Drag a `.csv` file into the designated area or save your manual entry.

3. **Start Bot:** Click the "Botu Başlat" button to open the WhatsApp Scheduler.

### B. CLI Mode (Server/Terminal)
For server environments where a GUI is not available or desired, use the provided batch script.

1. Navigate to the project folder.

2. Run `KykBotTerminal.bat`.

3. Enter the target WhatsApp Group Name when prompted.

4. The bot will run in the background and send today's menu.

---

## Troubleshooting & FAQ

### How do I update the WebDriver?

This project uses **Selenium 4.x**, which includes "Selenium Manager". It **automatically** detects your installed Chrome version and downloads the matching ChromeDriver.

* **Solution:** Just keep your Google Chrome browser updated. Selenium handles the rest.

### "AppLogo.png not found" Error

Ensure you are running the JAR file generated by `mvn package`. The resource loading logic checks both `/bot/images/` and the root directory to find assets inside the JAR.

### WhatsApp Web QR Code

The bot uses a localized `ChromeProfile` folder to save your login session.

1. On the first run, you will need to scan the QR code.

2. On subsequent runs, the session is restored automatically (no scan needed).

**Note:** Ensure all Chrome windows are closed before running the bot to avoid profile lock errors.

---

## Contributing

As this is a personal project, external contributions are currently closed. However, feel free to fork the repository and experiment with the code.

---

<p align="center">
    <img width="256" height="256" alt="AppLogo" src="https://github.com/user-attachments/assets/d13d7218-50f4-470e-8560-338c7ff24c6c" />
</p>

<p align="center">
    <i>
       Application Icon
    </i>
</p>

---

## Application Preview

<p align="center">
    <img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/ba92c379-c58d-4526-ac38-bb8c4a197e34" />
    <img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/1a12150c-c26a-4de9-9fc0-d17524dfab83" />
    <img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/b908b38c-9f9c-499d-8782-770cf3e2f310" />
    <img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/d8c6b7cb-4f18-43be-977e-84815b83b522" />
    <img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/72df03eb-8876-48ce-b0e7-3abb0609b95d" />
    <img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/f23dd470-5784-4434-9305-48a0c56bbba4" />
    <video src="https://github.com/user-attachments/assets/00c89376-7448-45bc-9ce5-49a5c71cd8b1"> width="700" controls>
       Your browser does not support the video tag.
    </video>
</p>

---

## Developer *(-s)*

This project was developed by **[Samet Cırık](https://github.com/SametCirik)**.
